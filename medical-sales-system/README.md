# Medical Sales Visit System (MSales)

Ù†Ø¸Ø§Ù… ÙˆÙŠØ¨ Ù…Ø¨Ù†ÙŠ Ø¨Ù€ **Django** Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ† Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙŠ Ø´Ø±ÙƒØ© Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª Ø·Ø¨ÙŠØ©.
Ù‡Ø¯ÙÙ‡ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù‡Ùˆ **ØªØ¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª** (Ø®Ø·Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© + Ø²ÙŠØ§Ø±Ø§Øª ÙŠÙˆÙ…ÙŠØ© + Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¬Ù…Ø¹Ø© Ù…Ù† Ø§Ù„ÙÙˆØ±Ù…Ø§Øª)ØŒ Ø«Ù… **Ø£Ø±Ø´ÙØ©** Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŒ Ù…Ø¹ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù„Ù„Ù…Ø¯ÙŠØ±.

---

## â­ Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ø©
- **Rep (Ù…Ù†Ø¯ÙˆØ¨)** ÙŠÙƒØªØ¨ **Ø®Ø·Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©** (Weekly Plan).
- **Manager (Ù…Ø¯ÙŠØ±)** ÙŠØ±Ø§Ø¬Ø¹ Ø§Ù„Ø®Ø·Ø© ÙˆÙŠØ¹Ù…Ù„ **Approve/Reject**.
- Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©ØŒ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ ÙŠØ¨Ø¯Ø£ **Ø²ÙŠØ§Ø±Ø© ÙŠÙˆÙ…ÙŠØ©** (Daily Visit) Ù…Ù† Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©.
- Ø¨Ø¹Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø©ØŒ ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ **Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„** (Client) Ù…Ù† Ø§Ù„ÙÙˆØ±Ù…Ø§Øª Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠØ©.
- Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠØªÙ… **Ø§Ù„Ø£Ø±Ø´ÙØ© Ø§Ù„ÙÙˆØ±ÙŠØ©** Ù„Ù„Ø²ÙŠØ§Ø±Ø© ÙˆØ§Ù„Ø¹Ù…ÙŠÙ„ØŒ ÙˆØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ÙÙŠ Ø§Ù„Ø£Ø±Ø´ÙŠÙ.

---

## ğŸ§© Ø§Ù„Ù…ÙˆØ¯ÙŠÙˆÙ„Ø§Øª (Apps)
- **accounts**: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ + ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ù„ÙˆØ¬ÙŠÙ† + ØµÙØ­Ø© Accounts (Manager-only) Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø· ÙˆØªØµØ¯ÙŠØ± CSV.
- **reps**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ† (Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù…ØŒ ØªÙØ¹ÙŠÙ„/Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ØŒ Ø­Ø°Ù) + ØªØµØ¯ÙŠØ± CSV.
- **plans**: Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© (Ø¥Ù†Ø´Ø§Ø¡/Ø¨Ø­Ø«/ÙÙ„Ø§ØªØ±/ØªØµØ¯ÙŠØ±) + (Approve/Reject) Ù„Ù„Ù…Ø¯ÙŠØ±.
- **visits**: Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© + Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© + APIs Ù„Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ø£Ø±Ø´ÙØ©.
- **clientsapp**: ØµÙØ­Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„ÙÙˆØ±Ù…Ø§Øª) + Ø±Ø¨Ø· Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ø²ÙŠØ§Ø±Ø© + Ø£Ø±Ø´ÙØ© ÙÙˆØ±ÙŠØ©.
- **archives**: Ø£Ø±Ø´ÙŠÙ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ (Snapshot) + KPIs + Sync Ù„Ù„Ù…Ø¯ÙŠØ±.
- **dashboardapp**: Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù„Ù„Ù…Ø¯ÙŠØ± (KPIsØŒ ØªØ±Ù†Ø¯ Ø´Ù‡Ø±ÙŠØŒ Ø²ÙŠØ§Ø±Ø§Øª Ø­Ø¯ÙŠØ«Ø©ØŒ Ø§Ù„Ù‚Ø§Ø¯Ù… 7 Ø£ÙŠØ§Ù…).

---

## ğŸ‘¥ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (Roles)
Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ **Groups** ÙÙŠ Django:
- **Manager**
  - Dashboard / Reps / Archives / Accounts
  - Ø§Ø¹ØªÙ…Ø§Ø¯ Ø£Ùˆ Ø±ÙØ¶ Ø§Ù„Ø®Ø·Ø· Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©
  - Ø±Ø¤ÙŠØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ†
- **Rep**
  - Weekly / Daily / Clients
  - ÙŠØ±Ù‰ Ø¨ÙŠØ§Ù†Ø§ØªÙ‡ ÙÙ‚Ø·

> Ù…Ù‡Ù…: Ù„Ø§Ø²Ù… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹ØªÙŠÙ† ÙÙŠ Ø§Ù„Ù€ Admin Ø¨Ø§Ø³Ù… **Manager** Ùˆ **Rep** Ø«Ù… Ø¥Ø³Ù†Ø§Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù„Ù‡Ù….

---

## ğŸ—ºï¸ Ø£Ù‡Ù… Ø§Ù„ØµÙØ­Ø§Øª
- Login: `GET /users/login/`
- Weekly Plans: `GET /plans/`
- Daily Visits: `GET /visits/`
- Clients: `GET /clients/`
- Archives (Manager-only): `GET /archives/`
- Reps (Manager-only): `GET /reps/`
- Accounts (Manager-only - Read only): `GET /users/account/`
- Dashboard (Manager-only): `GET /dashboard/`

---

## ğŸ” Workflow (ØªØ³Ù„Ø³Ù„ Ø§Ù„Ø¹Ù…Ù„)
1) **Rep** ÙŠØ¶ÙŠÙ Weekly Plan (Status Ø§ÙØªØ±Ø§Ø¶ÙŠ: Pending)
2) **Manager** ÙŠØ¹Ù…Ù„ Approve
   - ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡/ØªØ­Ø¯ÙŠØ« **ArchiveWeekly** Ù„Ù„Ø£Ø³Ø¨ÙˆØ¹
   - ÙŠØªÙ… Ø¹Ù…Ù„ **Soft-delete** Ù„Ù„Ù€ WeeklyPlan (ØªØ®ØªÙÙŠ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø£Ø±Ø´ÙŠÙ)
3) **Rep** ÙŠØ¨Ø¯Ø£ Daily Visit Ù…Ù† WeeklyPlan Approved (Ø¹Ù„Ø§Ù‚Ø© 1:1)
4) **Rep** ÙŠÙ†Ù‚Ù„ Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ù„ØµÙØ­Ø© Clients ÙˆÙŠÙ…Ù„Ø£ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
5) Ø¹Ù†Ø¯ Ø­ÙØ¸ Ø§Ù„Ø¹Ù…ÙŠÙ„:
   - Ø±Ø¨Ø· Ø§Ù„Ù€ DailyVisit Ø¨Ø§Ù„Ù€ Client
   - ØªØ­Ø¯ÙŠØ« Counters ÙÙŠ ArchiveWeekly (total_visits / unique_clients)
   - **Ø£Ø±Ø´ÙØ© ÙÙˆØ±ÙŠØ©** (Soft-delete) Ù„Ù„Ù€ DailyVisit ÙˆØ§Ù„Ù€ Client
6) **Manager** ÙŠØ±Ø§Ø¬Ø¹ Archives + Dashboard + Accounts exports

---

## ğŸ§  Ø§Ù„Ø£Ø±Ø´ÙØ© (Soft Delete + ArchiveWeekly)
- Ø£ØºÙ„Ø¨ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙÙŠÙ‡Ø§ Ø­Ù‚ÙˆÙ„:
  - `is_deleted`, `deleted_at`, `deleted_by`
- Ø¹Ù†Ø¯ Ø§Ù„Ø£Ø±Ø´ÙØ©:
  - Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ®ØªÙÙŠ Ù…Ù† ØµÙØ­Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  - ÙˆØªØ¸Ù‡Ø± ÙÙŠ **Archives** (Snapshot Ø£Ø³Ø¨ÙˆØ¹ÙŠ)
  - Ùˆ/Ø£Ùˆ ØµÙØ­Ø© **Accounts** (Read-only + Export CSV)

---

## ğŸ› ï¸ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
- Python **3.11+**
- Django **5.2.7**
- Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª SQLite (Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§)

---

## ğŸš€ Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ø­Ù„ÙŠÙ‹Ø§
```bash
# 1) Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ¦Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
python -m venv .venv

# 2) ØªÙØ¹ÙŠÙ„Ù‡Ø§
# Windows:
# .venv\Scripts\activate
# Linux/Mac:
source .venv/bin/activate

# 3) ØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø²Ù…
pip install -r requirements.txt

# 4) Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
cp .env.example .env
# Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ù‚ÙŠÙ… Ø¯Ø§Ø®Ù„ .env Ù„Ùˆ Ø­Ø§Ø¨Ø¨

# 5) ØªØ´ØºÙŠÙ„ migrations
python manage.py migrate

# 6) Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Admin
python manage.py createsuperuser

# 7) ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±
python manage.py runserver
```

Ø¨Ø¹Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„:
- Ø§ÙØªØ­: `http://127.0.0.1:8000/` (Ù‡ÙŠØ­ÙˆÙ‘Ù„Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù„Ù„Ù‘ÙˆØ¬ÙŠÙ†)
- Ø§Ø¯Ø®Ù„ Ù„Ù„Ù€ Admin: `http://127.0.0.1:8000/admin/`
  - Ø£Ù†Ø´Ø¦ Groups: **Manager** Ùˆ **Rep**
  - Ø£Ø¶Ù Users ÙˆØ¹ÙŠÙ‘Ù† Ù„Ù‡Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨

---

## ğŸ” Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
ØªÙ… ØªØ¹Ø¯ÙŠÙ„ `med/settings.py` Ù„ØªÙƒÙˆÙ† Ø¢Ù…Ù†Ø© Ù„Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ GitHub:
- `SECRET_KEY` Ù…Ù† Ù…ØªØºÙŠØ± Ø§Ù„Ø¨ÙŠØ¦Ø© `DJANGO_SECRET_KEY`
- `DEBUG` Ù…Ù† `DJANGO_DEBUG`
- `ALLOWED_HOSTS` Ù…Ù† `DJANGO_ALLOWED_HOSTS`

> ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬: **Ù„Ø§ ØªØªØ±Ùƒ DEBUG=1**.

---

## ğŸ“¤ ØªØµØ¯ÙŠØ± CSV
Ù…Ø¹Ø¸Ù… Ø§Ù„ØµÙØ­Ø§Øª ÙÙŠÙ‡Ø§ Export:
- Weekly: `?export=csv`
- Daily: `?export=csv`
- Clients: `?export=csv`
- Reps: `?export=csv`
- Archives: `?export=csv`
- Accounts: 
  - Visits: `?export=csv&source=visits`
  - Clients: `?export=csv&source=clients`

---

## ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
```
medical-sales-system/
  med/               # Django project settings + urls
  accounts/
  reps/
  plans/
  visits/
  clientsapp/
  archives/
  dashboardapp/
  templates/
  static/
  manage.py
  requirements.txt
```

---

## ğŸ”§ Ù…Ù„Ø§Ø­Ø¸Ø§Øª/ØªØ­Ø³ÙŠÙ†Ø§Øª Ù…Ù‚ØªØ±Ø­Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
- Ø§Ø³ØªØ¨Ø¯Ø§Ù„ SQLite Ø¨Ù€ PostgreSQL ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬.
- Ø¥Ø¶Ø§ÙØ© Logging + Audit Trail Ø£ÙƒØ«Ø± ØªÙØµÙŠÙ„Ø§Ù‹.
- Ø¥Ø¶Ø§ÙØ© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø£Ø¯Ù‚ (Permissions) Ø¨Ø¯Ù„ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù„Ù‰ Groups.
- Ø¥Ø¶Ø§ÙØ© Dockerfile Ùˆ docker-compose Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„ØªØ´ØºÙŠÙ„.

---

## ğŸ“„ Ø§Ù„ØªØ±Ø®ÙŠØµ
Ø¶Ø¹ Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù…Ø´Ø±ÙˆØ¹Ùƒ (MIT / Proprietary / ...).
